@let formatter = formatBy();
@let filter = filterBy();

@for (item of _sourceItems(); track trackBy()($index, item)) {
<ng-template ng0ListItemState [show]="filter(item)">
       <ng0-list-item #listItem="ng0ListItem"
                      [index]="$index"
                      [value]="item"
                      [ngClass]="itemClass()(item)"
                      (click)="_handleUserSelection(listItem)">

              @if(_itemTemplate) {
              <ng-container *ngTemplateOutlet="_itemTemplate; context: { $implicit: {
              item: listItem,
              value: item,
              selected: listItem.isSelected(),
              active: listItem.isActive(),
              }}" />
              } @else {
              @if(showSelectionIndicator()) {
              <input class="form-check-input ng0-list-selection-indicator"
                     tabindex="-1"
                     [checked]="listItem.isSelected()"
                     [attr.type]="multiple() ? 'checkbox' : 'radio'">
              }

              {{formatter(item)}}
              }
       </ng0-list-item>
</ng-template>

}

<style>
       ng0-list {
              display: block;
              overflow-y: auto;
              overflow-x: hidden;
              user-select: none;
              border: 1px solid var(--bs-border-color);
              border-radius: var(--bs-border-radius);

              /* // &:focus, &:focus-visible {
    //     border: 1px solid var(--bs-primary);
    // } */

              &.disabled {
                     background-color: var(--bs-secondary-bg);
              }
       }
</style>