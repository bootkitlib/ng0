@let user = _userStore.user();

<ng-content></ng-content>

<ng-container *ngTemplateOutlet="menuItemTemplate; context: { $implicit: items()}" />

<ng-template #menuItemTemplate let-items>
    @for (item of items; track $index) {
    @if ((!item.claim) || (user && user.hasClaim(item.claim))) {
    @switch (item.type) {
    @case('divider') {
    <ng0-vmenu-divider></ng0-vmenu-divider>
    }
    @case('group') {
    <ng0-vmenu-group [text]="item.text">
        <ng-container *ngTemplateOutlet="menuItemTemplate; context: { $implicit: item.children}" />
    </ng0-vmenu-group>
    }
    @case('item') {
    <ng0-vmenu-item [(expanded)]="item.expanded" [text]="item.text()" [routerLink]="item.routerLink()">
        @if (item.children != undefined) {
        <ng0-vmenu-item-children>
            <ng-container *ngTemplateOutlet="menuItemTemplate; context: { $implicit: item.children }" />
        </ng0-vmenu-item-children>
        }
    </ng0-vmenu-item>
    }
    }
    }
    }
</ng-template>