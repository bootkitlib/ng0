@let formatter = formatBy();
@let filter = filterBy();

@for (item of _items(); track item.id) {
@let selected= isSelected($index);
@let active= isSelected($index);

@if(filter(item)) {
<div
     [ngClass]="itemClass()(item)"
     [attr.id]="item.id"
     [class.active]="active"
     [class.selected]="selected"
     [attr.tabIndex]="_getItemTabIndex($index)"
     (click)="_handleUserSelection($index, item)">

       @if(_itemTemplate) {
       <ng-container *ngTemplateOutlet="_itemTemplate; context: { $implicit: {
              id: item.id,
              value: item.value,
              selected: selected,       
              active: active,
       }}" />
       } @else {

       @if(showSelectionIndicator()) {
       <input class="form-check-input ng0-list-selection-indicator"
              tabindex="-1"
              [checked]="selected"
              [attr.type]="multiple() ? 'checkbox' : 'radio'"
              [attr.name]="item.id"
              [attr.id]="item.id">
       }

       {{formatter(item.value)}}

       }
</div>
}
}